{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\n//\n//\n//\n//\n//\n//\n//\n//\nimport request from \"@/utils/request\";\nexport default {\n  name: 'Home',\n  data: function data() {\n    return {\n      tableData: [],\n      total: 0,\n      pageNum: 1,\n      pageSize: 5,\n      username: \"\",\n      email: \"\",\n      address: \"\",\n      form: {},\n      dialogFormVisible: false,\n      multipleSelection: [],\n      msg: \"test\",\n      collapseBtnClass: 'el-icon-s-fold',\n      isCollapse: false,\n      sideWidth: 200,\n      logoTextShow: true,\n      headerBg: 'headerBg'\n    };\n  },\n  created: function created() {\n    // 请求分页查询数据\n    this.load();\n  },\n  methods: {\n    collapse: function collapse() {\n      // 点击收缩按钮触发\n      this.isCollapse = !this.isCollapse;\n\n      if (this.isCollapse) {\n        // 收缩\n        this.sideWidth = 64;\n        this.collapseBtnClass = 'el-icon-s-unfold';\n        this.logoTextShow = false;\n      } else {\n        // 展开\n        this.sideWidth = 200;\n        this.collapseBtnClass = 'el-icon-s-fold';\n        this.logoTextShow = true;\n      }\n    },\n    load: function load() {\n      var _this = this;\n\n      request.get(\"/user/page\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          username: this.username,\n          email: this.email,\n          address: this.address\n        }\n      }).then(function (res) {\n        console.log(res);\n        _this.tableData = res.records;\n        _this.total = res.total;\n      });\n    },\n    save: function save() {\n      var _this2 = this;\n\n      request.post(\"/user\", this.form).then(function (res) {\n        if (res) {\n          _this2.$message.success(\"保存成功\");\n\n          _this2.dialogFormVisible = false;\n\n          _this2.load();\n        } else {\n          _this2.$message.error(\"保存失败\");\n        }\n      });\n    },\n    handleAdd: function handleAdd() {\n      this.dialogFormVisible = true;\n      this.form = {};\n    },\n    handleEdit: function handleEdit(row) {\n      this.form = row;\n      this.dialogFormVisible = true;\n    },\n    del: function del(id) {\n      var _this3 = this;\n\n      request.delete(\"/user/\" + id).then(function (res) {\n        if (res) {\n          _this3.$message.success(\"删除成功\");\n\n          _this3.load();\n        } else {\n          _this3.$message.error(\"删除失败\");\n        }\n      });\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      console.log(val);\n      this.multipleSelection = val;\n    },\n    delBatch: function delBatch() {\n      var _this4 = this;\n\n      var ids = this.multipleSelection.map(function (v) {\n        return v.id;\n      }); // [{}, {}, {}] => [1,2,3]\n\n      request.post(\"/user/del/batch\", ids).then(function (res) {\n        if (res) {\n          _this4.$message.success(\"批量删除成功\");\n\n          _this4.load();\n        } else {\n          _this4.$message.error(\"批量删除失败\");\n        }\n      });\n    },\n    reset: function reset() {\n      this.username = \"\";\n      this.email = \"\";\n      this.address = \"\";\n      this.load();\n    },\n    handleSizeChange: function handleSizeChange(pageSize) {\n      console.log(pageSize);\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange: function handleCurrentChange(pageNum) {\n      console.log(pageNum);\n      this.pageNum = pageNum;\n      this.load();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;AAUA;AAEA;AACAA,cADA;AAEAC,MAFA,kBAEA;AACA;AACAC,mBADA;AAEAC,cAFA;AAGAC,gBAHA;AAIAC,iBAJA;AAKAC,kBALA;AAMAC,eANA;AAOAC,iBAPA;AAQAC,cARA;AASAC,8BATA;AAUAC,2BAVA;AAWAC,iBAXA;AAYAC,wCAZA;AAaAC,uBAbA;AAcAC,oBAdA;AAeAC,wBAfA;AAgBAC;AAhBA;AAkBA,GArBA;AAsBAC,SAtBA,qBAsBA;AACA;AACA;AACA,GAzBA;AA0BAC;AACAC,YADA,sBACA;AAAA;AACA;;AACA;AAAA;AACA;AACA;AACA;AACA,OAJA,MAIA;AAAA;AACA;AACA;AACA;AACA;AACA,KAZA;AAaAC,QAbA,kBAaA;AAAA;;AACAC;AACAC;AACAnB,+BADA;AAEAC,iCAFA;AAGAC,iCAHA;AAIAC,2BAJA;AAKAC;AALA;AADA,SAQAgB,IARA,CAQA;AACAC;AAEA;AACA;AAEA,OAdA;AAeA,KA7BA;AA8BAC,QA9BA,kBA8BA;AAAA;;AACAJ;AACA;AACA;;AACA;;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA,OARA;AASA,KAxCA;AAyCAK,aAzCA,uBAyCA;AACA;AACA;AACA,KA5CA;AA6CAC,cA7CA,sBA6CAC,GA7CA,EA6CA;AACA;AACA;AACA,KAhDA;AAiDAC,OAjDA,eAiDAC,EAjDA,EAiDA;AAAA;;AACAT;AACA;AACA;;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,OAPA;AAQA,KA1DA;AA2DAU,yBA3DA,iCA2DAC,GA3DA,EA2DA;AACAR;AACA;AACA,KA9DA;AA+DAS,YA/DA,sBA+DA;AAAA;;AACA;AAAA;AAAA,SADA,CACA;;AACAZ;AACA;AACA;;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,OAPA;AAQA,KAzEA;AA0EAa,SA1EA,mBA0EA;AACA;AACA;AACA;AACA;AACA,KA/EA;AAgFAC,oBAhFA,4BAgFA/B,QAhFA,EAgFA;AACAoB;AACA;AACA;AACA,KApFA;AAqFAY,uBArFA,+BAqFAjC,OArFA,EAqFA;AACAqB;AACA;AACA;AACA;AAzFA;AA1BA","names":["name","data","tableData","total","pageNum","pageSize","username","email","address","form","dialogFormVisible","multipleSelection","msg","collapseBtnClass","isCollapse","sideWidth","logoTextShow","headerBg","created","methods","collapse","load","request","params","then","console","save","handleAdd","handleEdit","row","del","id","handleSelectionChange","val","delBatch","reset","handleSizeChange","handleCurrentChange"],"sourceRoot":"src/views","sources":["Home.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>\n      首页\n    </h1>\n  </div>\n</template>\n\n<script>\n\nimport request from \"@/utils/request\";\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      tableData: [],\n      total: 0,\n      pageNum: 1,\n      pageSize: 5,\n      username: \"\",\n      email: \"\",\n      address: \"\",\n      form: {},\n      dialogFormVisible: false,\n      multipleSelection: [],\n      msg: \"test\",\n      collapseBtnClass: 'el-icon-s-fold',\n      isCollapse: false,\n      sideWidth: 200,\n      logoTextShow: true,\n      headerBg: 'headerBg'\n    }\n  },\n  created() {\n    // 请求分页查询数据\n    this.load()\n  },\n  methods: {\n    collapse() {  // 点击收缩按钮触发\n      this.isCollapse = !this.isCollapse\n      if (this.isCollapse) {  // 收缩\n        this.sideWidth = 64\n        this.collapseBtnClass = 'el-icon-s-unfold'\n        this.logoTextShow = false\n      } else {   // 展开\n        this.sideWidth = 200\n        this.collapseBtnClass = 'el-icon-s-fold'\n        this.logoTextShow = true\n      }\n    },\n    load() {\n      request.get(\"/user/page\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          username: this.username,\n          email: this.email,\n          address: this.address,\n        }\n      }).then(res => {\n        console.log(res)\n\n        this.tableData = res.records\n        this.total = res.total\n\n      })\n    },\n    save() {\n      request.post(\"/user\", this.form).then(res => {\n        if (res) {\n          this.$message.success(\"保存成功\")\n          this.dialogFormVisible = false\n          this.load()\n        } else {\n          this.$message.error(\"保存失败\")\n        }\n      })\n    },\n    handleAdd() {\n      this.dialogFormVisible = true\n      this.form = {}\n    },\n    handleEdit(row) {\n      this.form = row\n      this.dialogFormVisible = true\n    },\n    del(id) {\n      request.delete(\"/user/\" + id).then(res => {\n        if (res) {\n          this.$message.success(\"删除成功\")\n          this.load()\n        } else {\n          this.$message.error(\"删除失败\")\n        }\n      })\n    },\n    handleSelectionChange(val) {\n      console.log(val)\n      this.multipleSelection = val\n    },\n    delBatch() {\n      let ids = this.multipleSelection.map(v => v.id)  // [{}, {}, {}] => [1,2,3]\n      request.post(\"/user/del/batch\", ids).then(res => {\n        if (res) {\n          this.$message.success(\"批量删除成功\")\n          this.load()\n        } else {\n          this.$message.error(\"批量删除失败\")\n        }\n      })\n    },\n    reset() {\n      this.username = \"\"\n      this.email = \"\"\n      this.address = \"\"\n      this.load()\n    },\n    handleSizeChange(pageSize) {\n      console.log(pageSize)\n      this.pageSize = pageSize\n      this.load()\n    },\n    handleCurrentChange(pageNum) {\n      console.log(pageNum)\n      this.pageNum = pageNum\n      this.load()\n    }\n  }\n}\n</script>\n\n<style>\n.headerBg {\n  background: #eee !important;\n}\n</style>"]},"metadata":{},"sourceType":"module"}